{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Volumes/Mazinger/loginforms/React-Loginform/src/components/Home/Home.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { ACCESS_TOKEN_NAME, API_BASE_URL } from '../../constants/apiConstants';\nimport axios from 'axios';\n\nfunction Home(props) {\n  _s();\n\n  useEffect(() => {\n    axios.get(API_BASE_URL + '/user/me', {\n      headers: {\n        'token': localStorage.getItem(ACCESS_TOKEN_NAME)\n      }\n    }).then(function (response) {\n      if (response.status !== 200) {\n        redirectToLogin();\n      }\n    }).catch(function (error) {\n      redirectToLogin();\n    });\n  });\n\n  function redirectToLogin() {\n    props.history.push('/home');\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mt-2\",\n    children: \"Home page content\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Home, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n\n_c = Home;\nexport default _c2 = withRouter(Home);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Home\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/Volumes/Mazinger/loginforms/React-Loginform/src/components/Home/Home.js"],"names":["React","useEffect","withRouter","ACCESS_TOKEN_NAME","API_BASE_URL","axios","Home","props","get","headers","localStorage","getItem","then","response","status","redirectToLogin","catch","error","history","push"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,iBAAT,EAA4BC,YAA5B,QAAgD,8BAAhD;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AACA,SAASC,IAAT,CAAcC,KAAd,EAAqB;AAAA;;AACjBN,EAAAA,SAAS,CAAC,MAAM;AACZI,IAAAA,KAAK,CAACG,GAAN,CAAUJ,YAAY,GAAG,UAAzB,EAAqC;AAAEK,MAAAA,OAAO,EAAE;AAAE,iBAASC,YAAY,CAACC,OAAb,CAAqBR,iBAArB;AAAX;AAAX,KAArC,EACKS,IADL,CACU,UAAUC,QAAV,EAAoB;AACtB,UAAIA,QAAQ,CAACC,MAAT,KAAoB,GAAxB,EAA6B;AACzBC,QAAAA,eAAe;AAClB;AACJ,KALL,EAMKC,KANL,CAMW,UAAUC,KAAV,EAAiB;AACpBF,MAAAA,eAAe;AAClB,KARL;AASH,GAVQ,CAAT;;AAWA,WAASA,eAAT,GAA2B;AACvBR,IAAAA,KAAK,CAACW,OAAN,CAAcC,IAAd,CAAmB,OAAnB;AACH;;AACD,sBACI;AAAK,IAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAMH;;GArBQb,I;;KAAAA,I;AAuBT,qBAAeJ,UAAU,CAACI,IAAD,CAAzB","sourcesContent":["import React, { useEffect } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { ACCESS_TOKEN_NAME, API_BASE_URL } from '../../constants/apiConstants';\nimport axios from 'axios'\nfunction Home(props) {\n    useEffect(() => {\n        axios.get(API_BASE_URL + '/user/me', { headers: { 'token': localStorage.getItem(ACCESS_TOKEN_NAME) } })\n            .then(function (response) {\n                if (response.status !== 200) {\n                    redirectToLogin()\n                }\n            })\n            .catch(function (error) {\n                redirectToLogin()\n            });\n    })\n    function redirectToLogin() {\n        props.history.push('/home');\n    }\n    return (\n        <div className=\"mt-2\">\n            Home page content\n        </div>\n        \n    )\n}\n\nexport default withRouter(Home);"]},"metadata":{},"sourceType":"module"}